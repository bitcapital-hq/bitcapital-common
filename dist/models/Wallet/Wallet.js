"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const User_1 = require("../User/User");
const base_1 = require("../../base");
const Asset_1 = require("../Asset");
const Transaction_1 = require("../Transaction");
const Payment_1 = require("../Payment");
const WalletState_1 = require("./WalletState");
class Wallet extends base_1.BaseModel {
    constructor(data) {
        super(data);
        this.status = undefined;
        this.stellar = undefined;
        this.user = undefined;
        this.additionalData = undefined;
        this.balances = undefined;
        this.issuedAssets = undefined;
        this.assets = undefined;
        this.transactions = undefined;
        this.received = undefined;
        Object.assign(this, data);
        this.user = data.user && new User_1.User(data.user);
        this.issuedAssets = data.issuedAssets && data.issuedAssets.map(issuedAsset => new Asset_1.Asset(issuedAsset));
        this.assets = data.assets && data.assets.map(asset => new Asset_1.Asset(asset));
        this.states = data.states && data.states.map(state => new WalletState_1.WalletState(state));
        this.transactions = data.transactions && data.transactions.map(transaction => new Transaction_1.Transaction(transaction));
        this.received = data.received && data.received.map(received => new Payment_1.Payment(received));
    }
}
exports.Wallet = Wallet;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2FsbGV0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbGliL21vZGVscy9XYWxsZXQvV2FsbGV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUNBQWdEO0FBSWhELHFDQUF3RDtBQUN4RCxvQ0FBOEM7QUFDOUMsZ0RBQWdFO0FBQ2hFLHdDQUFvRDtBQUNwRCwrQ0FBK0Q7QUFpQi9ELE1BQWEsTUFBTyxTQUFRLGdCQUFTO0lBWW5DLFlBQVksSUFBMkI7UUFDckMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBWmQsV0FBTSxHQUFrQixTQUFTLENBQUM7UUFFbEMsWUFBTyxHQUF1QixTQUFTLENBQUM7UUFDeEMsU0FBSSxHQUFVLFNBQVMsQ0FBQztRQUN4QixtQkFBYyxHQUFTLFNBQVMsQ0FBQztRQUNqQyxhQUFRLEdBQXFCLFNBQVMsQ0FBQztRQUN2QyxpQkFBWSxHQUFhLFNBQVMsQ0FBQztRQUNuQyxXQUFNLEdBQWEsU0FBUyxDQUFDO1FBQzdCLGlCQUFZLEdBQW1CLFNBQVMsQ0FBQztRQUN6QyxhQUFRLEdBQWUsU0FBUyxDQUFDO1FBSy9CLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTFCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLFdBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsSUFBSSxhQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLGFBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUkseUJBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLElBQUkseUJBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzVHLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksaUJBQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ3hGLENBQUM7Q0FDRjtBQXhCRCx3QkF3QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyLCBVc2VyU2NoZW1hIH0gZnJvbSBcIi4uL1VzZXIvVXNlclwiO1xuaW1wb3J0IHsgV2FsbGV0QmFsYW5jZSB9IGZyb20gXCIuL1dhbGxldEJhbGFuY2VcIjtcbmltcG9ydCB7IEJhbmtpbmdXYWxsZXREYXRhLCBTdGVsbGFyV2FsbGV0RGF0YSB9IGZyb20gXCIuL1dhbGxldERhdGFcIjtcbmltcG9ydCB7IFdhbGxldFN0YXR1cyB9IGZyb20gXCIuL1dhbGxldFN0YXR1c1wiO1xuaW1wb3J0IHsgQmFzZU1vZGVsU2NoZW1hLCBCYXNlTW9kZWwgfSBmcm9tIFwiLi4vLi4vYmFzZVwiO1xuaW1wb3J0IHsgQXNzZXRTY2hlbWEsIEFzc2V0IH0gZnJvbSBcIi4uL0Fzc2V0XCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblNjaGVtYSwgVHJhbnNhY3Rpb24gfSBmcm9tIFwiLi4vVHJhbnNhY3Rpb25cIjtcbmltcG9ydCB7IFBheW1lbnRTY2hlbWEsIFBheW1lbnQgfSBmcm9tIFwiLi4vUGF5bWVudFwiO1xuaW1wb3J0IHsgV2FsbGV0U3RhdGUsIFdhbGxldFN0YXRlU2NoZW1hIH0gZnJvbSBcIi4vV2FsbGV0U3RhdGVcIjtcblxuZXhwb3J0IHsgU3RlbGxhcldhbGxldERhdGEsIEJhbmtpbmdXYWxsZXREYXRhLCBXYWxsZXRCYWxhbmNlIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2FsbGV0U2NoZW1hIGV4dGVuZHMgQmFzZU1vZGVsU2NoZW1hIHtcbiAgc3RhdHVzPzogV2FsbGV0U3RhdHVzO1xuICBzdGF0ZXM/OiBXYWxsZXRTdGF0ZVNjaGVtYVtdO1xuICBzdGVsbGFyPzogU3RlbGxhcldhbGxldERhdGE7XG4gIHVzZXI/OiBVc2VyU2NoZW1hO1xuICBhZGRpdGlvbmFsRGF0YT86IGFueTtcbiAgYmFsYW5jZXM/OiBXYWxsZXRCYWxhbmNlW107XG4gIGlzc3VlZEFzc2V0cz86IEFzc2V0U2NoZW1hW107XG4gIGFzc2V0cz86IEFzc2V0U2NoZW1hW107XG4gIHRyYW5zYWN0aW9ucz86IFRyYW5zYWN0aW9uU2NoZW1hW107XG4gIHJlY2VpdmVkPzogUGF5bWVudFNjaGVtYVtdO1xufVxuXG5leHBvcnQgY2xhc3MgV2FsbGV0IGV4dGVuZHMgQmFzZU1vZGVsIGltcGxlbWVudHMgV2FsbGV0U2NoZW1hIHtcbiAgc3RhdHVzPzogV2FsbGV0U3RhdHVzID0gdW5kZWZpbmVkO1xuICBzdGF0ZXM/OiBXYWxsZXRTdGF0ZVtdO1xuICBzdGVsbGFyPzogU3RlbGxhcldhbGxldERhdGEgPSB1bmRlZmluZWQ7XG4gIHVzZXI/OiBVc2VyID0gdW5kZWZpbmVkO1xuICBhZGRpdGlvbmFsRGF0YT86IGFueSA9IHVuZGVmaW5lZDtcbiAgYmFsYW5jZXM/OiBXYWxsZXRCYWxhbmNlW10gPSB1bmRlZmluZWQ7XG4gIGlzc3VlZEFzc2V0cz86IEFzc2V0W10gPSB1bmRlZmluZWQ7XG4gIGFzc2V0cz86IEFzc2V0W10gPSB1bmRlZmluZWQ7XG4gIHRyYW5zYWN0aW9ucz86IFRyYW5zYWN0aW9uW10gPSB1bmRlZmluZWQ7XG4gIHJlY2VpdmVkPzogUGF5bWVudFtdID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IFBhcnRpYWw8V2FsbGV0U2NoZW1hPikge1xuICAgIHN1cGVyKGRhdGEpO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBkYXRhKTtcblxuICAgIHRoaXMudXNlciA9IGRhdGEudXNlciAmJiBuZXcgVXNlcihkYXRhLnVzZXIpO1xuICAgIHRoaXMuaXNzdWVkQXNzZXRzID0gZGF0YS5pc3N1ZWRBc3NldHMgJiYgZGF0YS5pc3N1ZWRBc3NldHMubWFwKGlzc3VlZEFzc2V0ID0+IG5ldyBBc3NldChpc3N1ZWRBc3NldCkpO1xuICAgIHRoaXMuYXNzZXRzID0gZGF0YS5hc3NldHMgJiYgZGF0YS5hc3NldHMubWFwKGFzc2V0ID0+IG5ldyBBc3NldChhc3NldCkpO1xuICAgIHRoaXMuc3RhdGVzID0gZGF0YS5zdGF0ZXMgJiYgZGF0YS5zdGF0ZXMubWFwKHN0YXRlID0+IG5ldyBXYWxsZXRTdGF0ZShzdGF0ZSkpO1xuICAgIHRoaXMudHJhbnNhY3Rpb25zID0gZGF0YS50cmFuc2FjdGlvbnMgJiYgZGF0YS50cmFuc2FjdGlvbnMubWFwKHRyYW5zYWN0aW9uID0+IG5ldyBUcmFuc2FjdGlvbih0cmFuc2FjdGlvbikpO1xuICAgIHRoaXMucmVjZWl2ZWQgPSBkYXRhLnJlY2VpdmVkICYmIGRhdGEucmVjZWl2ZWQubWFwKHJlY2VpdmVkID0+IG5ldyBQYXltZW50KHJlY2VpdmVkKSk7XG4gIH1cbn1cbiJdfQ==