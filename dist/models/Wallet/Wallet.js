"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const User_1 = require("../User/User");
const base_1 = require("../../base");
const Asset_1 = require("../Asset");
const Transaction_1 = require("../Transaction");
const Payment_1 = require("../Payment");
const WalletState_1 = require("./WalletState");
class Wallet extends base_1.BaseModel {
    constructor(data) {
        super(data);
        this.status = undefined;
        this.stellar = undefined;
        this.user = undefined;
        this.additionalData = undefined;
        this.balances = undefined;
        this.issuedAssets = undefined;
        this.assets = undefined;
        this.transactions = undefined;
        this.received = undefined;
        Object.assign(this, data);
        this.user = data.user && new User_1.User(data.user);
        this.issuedAssets = data.issuedAssets && data.issuedAssets.map(issuedAsset => new Asset_1.Asset(issuedAsset));
        this.assets = data.assets && data.assets.map(asset => new Asset_1.Asset(asset));
        this.states = data.states && data.states.map(state => new WalletState_1.WalletState(state));
        this.transactions = data.transactions && data.transactions.map(transaction => new Transaction_1.Transaction(transaction));
        this.received = data.received && data.received.map(received => new Payment_1.Payment(received));
    }
}
exports.Wallet = Wallet;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2FsbGV0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbGliL21vZGVscy9XYWxsZXQvV2FsbGV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUNBQWdEO0FBSWhELHFDQUF3RDtBQUN4RCxvQ0FBOEM7QUFDOUMsZ0RBQWdFO0FBQ2hFLHdDQUFvRDtBQUNwRCwrQ0FBK0Q7QUFpQi9ELE1BQWEsTUFBTyxTQUFRLGdCQUFTO0lBWW5DLFlBQVksSUFBMkI7UUFDckMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBWmQsV0FBTSxHQUFrQixTQUFTLENBQUM7UUFFbEMsWUFBTyxHQUF1QixTQUFTLENBQUM7UUFDeEMsU0FBSSxHQUFVLFNBQVMsQ0FBQztRQUN4QixtQkFBYyxHQUFTLFNBQVMsQ0FBQztRQUNqQyxhQUFRLEdBQXFCLFNBQVMsQ0FBQztRQUN2QyxpQkFBWSxHQUFhLFNBQVMsQ0FBQztRQUNuQyxXQUFNLEdBQWEsU0FBUyxDQUFDO1FBQzdCLGlCQUFZLEdBQW1CLFNBQVMsQ0FBQztRQUN6QyxhQUFRLEdBQWUsU0FBUyxDQUFDO1FBSy9CLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTFCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLFdBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsSUFBSSxhQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLGFBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUkseUJBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLElBQUkseUJBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzVHLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksaUJBQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ3hGLENBQUM7Q0FDRjtBQXhCRCx3QkF3QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyLCBVc2VyU2NoZW1hIH0gZnJvbSBcIi4uL1VzZXIvVXNlclwiO1xyXG5pbXBvcnQgeyBXYWxsZXRCYWxhbmNlIH0gZnJvbSBcIi4vV2FsbGV0QmFsYW5jZVwiO1xyXG5pbXBvcnQgeyBCYW5raW5nV2FsbGV0RGF0YSwgU3RlbGxhcldhbGxldERhdGEgfSBmcm9tIFwiLi9XYWxsZXREYXRhXCI7XHJcbmltcG9ydCB7IFdhbGxldFN0YXR1cyB9IGZyb20gXCIuL1dhbGxldFN0YXR1c1wiO1xyXG5pbXBvcnQgeyBCYXNlTW9kZWxTY2hlbWEsIEJhc2VNb2RlbCB9IGZyb20gXCIuLi8uLi9iYXNlXCI7XHJcbmltcG9ydCB7IEFzc2V0U2NoZW1hLCBBc3NldCB9IGZyb20gXCIuLi9Bc3NldFwiO1xyXG5pbXBvcnQgeyBUcmFuc2FjdGlvblNjaGVtYSwgVHJhbnNhY3Rpb24gfSBmcm9tIFwiLi4vVHJhbnNhY3Rpb25cIjtcclxuaW1wb3J0IHsgUGF5bWVudFNjaGVtYSwgUGF5bWVudCB9IGZyb20gXCIuLi9QYXltZW50XCI7XHJcbmltcG9ydCB7IFdhbGxldFN0YXRlLCBXYWxsZXRTdGF0ZVNjaGVtYSB9IGZyb20gXCIuL1dhbGxldFN0YXRlXCI7XHJcblxyXG5leHBvcnQgeyBTdGVsbGFyV2FsbGV0RGF0YSwgQmFua2luZ1dhbGxldERhdGEsIFdhbGxldEJhbGFuY2UgfTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV2FsbGV0U2NoZW1hIGV4dGVuZHMgQmFzZU1vZGVsU2NoZW1hIHtcclxuICBzdGF0dXM/OiBXYWxsZXRTdGF0dXM7XHJcbiAgc3RhdGVzPzogV2FsbGV0U3RhdGVTY2hlbWFbXTtcclxuICBzdGVsbGFyPzogU3RlbGxhcldhbGxldERhdGE7XHJcbiAgdXNlcj86IFVzZXJTY2hlbWE7XHJcbiAgYWRkaXRpb25hbERhdGE/OiBhbnk7XHJcbiAgYmFsYW5jZXM/OiBXYWxsZXRCYWxhbmNlW107XHJcbiAgaXNzdWVkQXNzZXRzPzogQXNzZXRTY2hlbWFbXTtcclxuICBhc3NldHM/OiBBc3NldFNjaGVtYVtdO1xyXG4gIHRyYW5zYWN0aW9ucz86IFRyYW5zYWN0aW9uU2NoZW1hW107XHJcbiAgcmVjZWl2ZWQ/OiBQYXltZW50U2NoZW1hW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBXYWxsZXQgZXh0ZW5kcyBCYXNlTW9kZWwgaW1wbGVtZW50cyBXYWxsZXRTY2hlbWEge1xyXG4gIHN0YXR1cz86IFdhbGxldFN0YXR1cyA9IHVuZGVmaW5lZDtcclxuICBzdGF0ZXM/OiBXYWxsZXRTdGF0ZVtdO1xyXG4gIHN0ZWxsYXI/OiBTdGVsbGFyV2FsbGV0RGF0YSA9IHVuZGVmaW5lZDtcclxuICB1c2VyPzogVXNlciA9IHVuZGVmaW5lZDtcclxuICBhZGRpdGlvbmFsRGF0YT86IGFueSA9IHVuZGVmaW5lZDtcclxuICBiYWxhbmNlcz86IFdhbGxldEJhbGFuY2VbXSA9IHVuZGVmaW5lZDtcclxuICBpc3N1ZWRBc3NldHM/OiBBc3NldFtdID0gdW5kZWZpbmVkO1xyXG4gIGFzc2V0cz86IEFzc2V0W10gPSB1bmRlZmluZWQ7XHJcbiAgdHJhbnNhY3Rpb25zPzogVHJhbnNhY3Rpb25bXSA9IHVuZGVmaW5lZDtcclxuICByZWNlaXZlZD86IFBheW1lbnRbXSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgY29uc3RydWN0b3IoZGF0YTogUGFydGlhbDxXYWxsZXRTY2hlbWE+KSB7XHJcbiAgICBzdXBlcihkYXRhKTtcclxuXHJcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIGRhdGEpO1xyXG5cclxuICAgIHRoaXMudXNlciA9IGRhdGEudXNlciAmJiBuZXcgVXNlcihkYXRhLnVzZXIpO1xyXG4gICAgdGhpcy5pc3N1ZWRBc3NldHMgPSBkYXRhLmlzc3VlZEFzc2V0cyAmJiBkYXRhLmlzc3VlZEFzc2V0cy5tYXAoaXNzdWVkQXNzZXQgPT4gbmV3IEFzc2V0KGlzc3VlZEFzc2V0KSk7XHJcbiAgICB0aGlzLmFzc2V0cyA9IGRhdGEuYXNzZXRzICYmIGRhdGEuYXNzZXRzLm1hcChhc3NldCA9PiBuZXcgQXNzZXQoYXNzZXQpKTtcclxuICAgIHRoaXMuc3RhdGVzID0gZGF0YS5zdGF0ZXMgJiYgZGF0YS5zdGF0ZXMubWFwKHN0YXRlID0+IG5ldyBXYWxsZXRTdGF0ZShzdGF0ZSkpO1xyXG4gICAgdGhpcy50cmFuc2FjdGlvbnMgPSBkYXRhLnRyYW5zYWN0aW9ucyAmJiBkYXRhLnRyYW5zYWN0aW9ucy5tYXAodHJhbnNhY3Rpb24gPT4gbmV3IFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSk7XHJcbiAgICB0aGlzLnJlY2VpdmVkID0gZGF0YS5yZWNlaXZlZCAmJiBkYXRhLnJlY2VpdmVkLm1hcChyZWNlaXZlZCA9PiBuZXcgUGF5bWVudChyZWNlaXZlZCkpO1xyXG4gIH1cclxufVxyXG4iXX0=