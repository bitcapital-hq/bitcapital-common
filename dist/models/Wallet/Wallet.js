"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const User_1 = require("../User/User");
const base_1 = require("../../base");
const Asset_1 = require("../Asset");
const Transaction_1 = require("../Transaction");
const Payment_1 = require("../Payment");
const WalletState_1 = require("./WalletState");
const Product_1 = require("../Domain/Product");
class Wallet extends base_1.BaseModel {
    constructor(data) {
        super(data);
        this.status = undefined;
        this.stellar = undefined;
        this.user = undefined;
        this.product = undefined;
        this.additionalData = undefined;
        this.balances = undefined;
        this.issuedAssets = undefined;
        this.assets = undefined;
        this.transactions = undefined;
        this.received = undefined;
        Object.assign(this, data);
        this.user = data.user && new User_1.User(data.user);
        this.issuedAssets = data.issuedAssets && data.issuedAssets.map(issuedAsset => new Asset_1.Asset(issuedAsset));
        this.assets = data.assets && data.assets.map(asset => new Asset_1.Asset(asset));
        this.states = data.states && data.states.map(state => new WalletState_1.WalletState(state));
        this.transactions = data.transactions && data.transactions.map(transaction => new Transaction_1.Transaction(transaction));
        this.received = data.received && data.received.map(received => new Payment_1.Payment(received));
        this.product = data.product && new Product_1.Product(data.product);
    }
}
exports.Wallet = Wallet;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2FsbGV0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbGliL21vZGVscy9XYWxsZXQvV2FsbGV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUNBQWdEO0FBSWhELHFDQUF3RDtBQUN4RCxvQ0FBOEM7QUFDOUMsZ0RBQWdFO0FBQ2hFLHdDQUFvRDtBQUNwRCwrQ0FBK0Q7QUFDL0QsK0NBQTJEO0FBa0IzRCxNQUFhLE1BQU8sU0FBUSxnQkFBUztJQWFuQyxZQUFZLElBQTJCO1FBQ3JDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQWJkLFdBQU0sR0FBa0IsU0FBUyxDQUFDO1FBRWxDLFlBQU8sR0FBdUIsU0FBUyxDQUFDO1FBQ3hDLFNBQUksR0FBVSxTQUFTLENBQUM7UUFDeEIsWUFBTyxHQUFhLFNBQVMsQ0FBQztRQUM5QixtQkFBYyxHQUFTLFNBQVMsQ0FBQztRQUNqQyxhQUFRLEdBQXFCLFNBQVMsQ0FBQztRQUN2QyxpQkFBWSxHQUFhLFNBQVMsQ0FBQztRQUNuQyxXQUFNLEdBQWEsU0FBUyxDQUFDO1FBQzdCLGlCQUFZLEdBQW1CLFNBQVMsQ0FBQztRQUN6QyxhQUFRLEdBQWUsU0FBUyxDQUFDO1FBSy9CLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTFCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLFdBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsSUFBSSxhQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLGFBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUkseUJBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLElBQUkseUJBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzVHLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksaUJBQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ3RGLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLGlCQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDRjtBQTFCRCx3QkEwQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyLCBVc2VyU2NoZW1hIH0gZnJvbSBcIi4uL1VzZXIvVXNlclwiO1xuaW1wb3J0IHsgV2FsbGV0QmFsYW5jZSB9IGZyb20gXCIuL1dhbGxldEJhbGFuY2VcIjtcbmltcG9ydCB7IEJhbmtpbmdXYWxsZXREYXRhLCBTdGVsbGFyV2FsbGV0RGF0YSB9IGZyb20gXCIuL1dhbGxldERhdGFcIjtcbmltcG9ydCB7IFdhbGxldFN0YXR1cyB9IGZyb20gXCIuL1dhbGxldFN0YXR1c1wiO1xuaW1wb3J0IHsgQmFzZU1vZGVsU2NoZW1hLCBCYXNlTW9kZWwgfSBmcm9tIFwiLi4vLi4vYmFzZVwiO1xuaW1wb3J0IHsgQXNzZXRTY2hlbWEsIEFzc2V0IH0gZnJvbSBcIi4uL0Fzc2V0XCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblNjaGVtYSwgVHJhbnNhY3Rpb24gfSBmcm9tIFwiLi4vVHJhbnNhY3Rpb25cIjtcbmltcG9ydCB7IFBheW1lbnRTY2hlbWEsIFBheW1lbnQgfSBmcm9tIFwiLi4vUGF5bWVudFwiO1xuaW1wb3J0IHsgV2FsbGV0U3RhdGUsIFdhbGxldFN0YXRlU2NoZW1hIH0gZnJvbSBcIi4vV2FsbGV0U3RhdGVcIjtcbmltcG9ydCB7IFByb2R1Y3QsIFByb2R1Y3RTY2hlbWEgfSBmcm9tIFwiLi4vRG9tYWluL1Byb2R1Y3RcIjtcblxuZXhwb3J0IHsgU3RlbGxhcldhbGxldERhdGEsIEJhbmtpbmdXYWxsZXREYXRhLCBXYWxsZXRCYWxhbmNlIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2FsbGV0U2NoZW1hIGV4dGVuZHMgQmFzZU1vZGVsU2NoZW1hIHtcbiAgc3RhdHVzPzogV2FsbGV0U3RhdHVzO1xuICBzdGF0ZXM/OiBXYWxsZXRTdGF0ZVNjaGVtYVtdO1xuICBzdGVsbGFyPzogU3RlbGxhcldhbGxldERhdGE7XG4gIHVzZXI/OiBVc2VyU2NoZW1hO1xuICBhZGRpdGlvbmFsRGF0YT86IGFueTtcbiAgcHJvZHVjdD86IFByb2R1Y3RTY2hlbWE7XG4gIGJhbGFuY2VzPzogV2FsbGV0QmFsYW5jZVtdO1xuICBpc3N1ZWRBc3NldHM/OiBBc3NldFNjaGVtYVtdO1xuICBhc3NldHM/OiBBc3NldFNjaGVtYVtdO1xuICB0cmFuc2FjdGlvbnM/OiBUcmFuc2FjdGlvblNjaGVtYVtdO1xuICByZWNlaXZlZD86IFBheW1lbnRTY2hlbWFbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFdhbGxldCBleHRlbmRzIEJhc2VNb2RlbCBpbXBsZW1lbnRzIFdhbGxldFNjaGVtYSB7XG4gIHN0YXR1cz86IFdhbGxldFN0YXR1cyA9IHVuZGVmaW5lZDtcbiAgc3RhdGVzPzogV2FsbGV0U3RhdGVbXTtcbiAgc3RlbGxhcj86IFN0ZWxsYXJXYWxsZXREYXRhID0gdW5kZWZpbmVkO1xuICB1c2VyPzogVXNlciA9IHVuZGVmaW5lZDtcbiAgcHJvZHVjdD86IFByb2R1Y3QgPSB1bmRlZmluZWQ7XG4gIGFkZGl0aW9uYWxEYXRhPzogYW55ID0gdW5kZWZpbmVkO1xuICBiYWxhbmNlcz86IFdhbGxldEJhbGFuY2VbXSA9IHVuZGVmaW5lZDtcbiAgaXNzdWVkQXNzZXRzPzogQXNzZXRbXSA9IHVuZGVmaW5lZDtcbiAgYXNzZXRzPzogQXNzZXRbXSA9IHVuZGVmaW5lZDtcbiAgdHJhbnNhY3Rpb25zPzogVHJhbnNhY3Rpb25bXSA9IHVuZGVmaW5lZDtcbiAgcmVjZWl2ZWQ/OiBQYXltZW50W10gPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogUGFydGlhbDxXYWxsZXRTY2hlbWE+KSB7XG4gICAgc3VwZXIoZGF0YSk7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIGRhdGEpO1xuXG4gICAgdGhpcy51c2VyID0gZGF0YS51c2VyICYmIG5ldyBVc2VyKGRhdGEudXNlcik7XG4gICAgdGhpcy5pc3N1ZWRBc3NldHMgPSBkYXRhLmlzc3VlZEFzc2V0cyAmJiBkYXRhLmlzc3VlZEFzc2V0cy5tYXAoaXNzdWVkQXNzZXQgPT4gbmV3IEFzc2V0KGlzc3VlZEFzc2V0KSk7XG4gICAgdGhpcy5hc3NldHMgPSBkYXRhLmFzc2V0cyAmJiBkYXRhLmFzc2V0cy5tYXAoYXNzZXQgPT4gbmV3IEFzc2V0KGFzc2V0KSk7XG4gICAgdGhpcy5zdGF0ZXMgPSBkYXRhLnN0YXRlcyAmJiBkYXRhLnN0YXRlcy5tYXAoc3RhdGUgPT4gbmV3IFdhbGxldFN0YXRlKHN0YXRlKSk7XG4gICAgdGhpcy50cmFuc2FjdGlvbnMgPSBkYXRhLnRyYW5zYWN0aW9ucyAmJiBkYXRhLnRyYW5zYWN0aW9ucy5tYXAodHJhbnNhY3Rpb24gPT4gbmV3IFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSk7XG4gICAgdGhpcy5yZWNlaXZlZCA9IGRhdGEucmVjZWl2ZWQgJiYgZGF0YS5yZWNlaXZlZC5tYXAocmVjZWl2ZWQgPT4gbmV3IFBheW1lbnQocmVjZWl2ZWQpKTtcbiAgICB0aGlzLnByb2R1Y3QgPSBkYXRhLnByb2R1Y3QgJiYgbmV3IFByb2R1Y3QoZGF0YS5wcm9kdWN0KTtcbiAgfVxufVxuIl19